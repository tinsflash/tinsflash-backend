<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Centrale Nucléaire Météo — Console Admin</title>
  <style>
    /* Minimal neon style, responsive */
    :root {
      --bg: #050505;
      --panel: #0b0b0b;
      --neon: #00ff2a;
      --accent: #00f0ff;
      --muted: #2b2b2b;
      font-family: "Courier New", monospace;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--neon);}
    .wrap{max-width:1100px;margin:18px auto;padding:12px;}
    header{display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:8px;background:linear-gradient(90deg,#041,#003);box-shadow:0 4px 12px rgba(0,0,0,.6);}
    header h1{margin:0;color:var(--accent);font-size:20px}
    .panel{margin-top:16px;padding:14px;border-radius:10px;background:rgba(0,0,0,0.35);border:1px solid #083;}
    .btn{background:var(--neon);color:#001;padding:8px 12px;border-radius:6px;border:none;cursor:pointer;font-weight:bold}
    pre{background:#020202;color:var(--neon);padding:12px;border-radius:6px;overflow:auto;max-height:320px}
    nav.tabs{display:flex;gap:8px;margin-top:10px}
    nav.tabs a{color:var(--neon);padding:8px;border-radius:6px;text-decoration:none;background:rgba(0,0,0,0.2)}
    .hidden{display:none}
    table{width:100%;border-collapse:collapse;color:var(--neon)}
    th,td{padding:8px;border-bottom:1px solid #0a0a0a;text-align:left}
    .small{font-size:13px;color:#9f9}
    select,input{padding:8px;border-radius:6px;border:1px solid #0a0a0a;background:#020202;color:var(--neon)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div style="font-size:28px">⚡</div>
      <h1>Centrale Nucléaire Météo — Console Admin</h1>
    </header>

    <!-- MAIN ACTIONS -->
    <div class="panel" id="mainRun">
      <h2>🚀 Démarrer le moteur</h2>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="btn" id="runGlobalBtn">Démarrer TOUT (run-global)</button>
        <button class="btn" id="runContinentalBtn">Lancer continental (run-continental)</button>
        <button class="btn" id="verifyAllBtn">✅ Vérifier tout (IA)</button>
      </div>
      <p class="small">Les runs effectuent l'extraction des modèles et génèrent prévisions + alertes.</p>
      <div style="margin-top:12px">
        <strong>Dernier rapport:</strong>
        <pre id="runReport">Aucun run lancé.</pre>
      </div>
    </div>

    <!-- LOGS -->
    <div class="panel" id="logsPanel">
      <h2>📜 Logs moteur</h2>
      <div style="display:flex;gap:8px">
        <button class="btn" id="refreshLogs">Actualiser</button>
        <button class="btn" id="clearLogs" style="background:#ff7a7a">Effacer (local view)</button>
      </div>
      <pre id="logsArea">Chargement des logs...</pre>
    </div>

    <!-- ENGINE STATE -->
    <div class="panel" id="statePanel">
      <h2>🔧 État du moteur</h2>
      <button class="btn" id="checkState">Vérifier état</button>
      <pre id="stateArea">Aucun état chargé</pre>
    </div>

    <!-- CHAT IA -->
    <div class="panel" id="chatPanel">
      <h2>🤖 Chat IA — moteur</h2>
      <textarea id="chatInput" rows="3" style="width:100%;background:#020202;color:var(--neon)"></textarea>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" id="sendChat">Envoyer</button>
        <button class="btn" id="quickDiag">Demande diagnostic moteur</button>
      </div>
      <pre id="chatReply">Réponses IA…</pre>
    </div>

    <!-- TABS / SUB-PAGES -->
    <nav class="tabs">
      <a href="#" data-tab="alerts">🔴 Alertes</a>
      <a href="#" data-tab="preview">📋 Préview index (simulate user)</a>
      <a href="#" data-tab="news">📰 Actualités</a>
      <a href="#" data-tab="radar">🌐 Radar</a>
      <a href="#" data-tab="diagnostic">🧭 Diagnostic moteur</a>
    </nav>

    <!-- Alerts Tab -->
    <div class="panel hidden" id="tab-alerts">
      <h2>🚨 Gestion des alertes</h2>
      <div>
        <h3>Publiées (&gt;90%)</h3>
        <table id="tblPublished"><thead><tr><th>Pays</th><th>Type</th><th>Message</th><th>Fiabilité</th></tr></thead><tbody></tbody></table>
        <h3>À valider (70–90%)</h3>
        <table id="tblToValidate"><thead><tr><th>Pays</th><th>Type</th><th>Message</th><th>Fiabilité</th><th>Actions</th></tr></thead><tbody></tbody></table>
        <h3>Envoyées expert</h3>
        <table id="tblExpert"><thead><tr><th>Pays</th><th>Type</th><th>Message</th><th>Fiabilité</th></tr></thead><tbody></tbody></table>
        <h3>En attente</h3>
        <table id="tblWaiting"><thead><tr><th>Pays</th><th>Type</th><th>Message</th><th>Fiabilité</th></tr></thead><tbody></tbody></table>
        <h3>Ignorées (&lt;70%)</h3>
        <table id="tblIgnored"><thead><tr><th>Pays</th><th>Type</th><th>Message</th><th>Fiabilité</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Preview index (simulate user) -->
    <div class="panel hidden" id="tab-preview">
      <h2>📋 Préview page index (simulate user view)</h2>
      <div style="display:flex;gap:8px">
        <input id="previewCity" placeholder="Ville (ex: Bruxelles)" />
        <select id="previewCountry">
          <option value="">Choisir pays</option>
          <option value="BE">Belgium</option>
          <option value="FR">France</option>
          <option value="DE">Germany</option>
          <option value="US">USA</option>
          <!-- add as needed -->
        </select>
        <button class="btn" id="previewBtn">Voir preview</button>
      </div>
      <div style="margin-top:12px">
        <pre id="previewArea">Aperçu ici</pre>
      </div>
    </div>

    <!-- News -->
    <div class="panel hidden" id="tab-news">
      <h2>📰 Actual
