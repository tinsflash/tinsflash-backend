<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>⚡ Centrale Nucléaire Météo – Console Admin</title>
  <style>
    body {
      background: #0d1117;
      color: #e6edf3;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background: #161b22;
      padding: 1rem;
      text-align: center;
      border-bottom: 2px solid #00d0ff;
    }
    header h1 {
      color: #00d0ff;
      margin: 0;
    }
    .section {
      margin: 1rem;
      padding: 1rem;
      background: #161b22;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 208, 255, 0.3);
    }
    .section h2 {
      color: #00d0ff;
      margin-bottom: 0.5rem;
    }
    button {
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    button.launch { background: #00d0ff; color: #000; }
    button.refresh { background: #0099ff; color: #fff; }
    button.validate { background: #2ecc71; color: #fff; }
    button.reject { background: #e74c3c; color: #fff; }
    button.expert { background: #f39c12; color: #fff; }
    button.export { background: #3498db; color: #fff; }
    button:hover { opacity: 0.8; }
    textarea, input {
      width: 100%;
      padding: 0.5rem;
      border-radius: 6px;
      border: 1px solid #333;
      margin-top: 0.5rem;
      background: #0d1117;
      color: #fff;
    }
    .logs, .chat-response {
      background: #0d1117;
      border: 1px solid #333;
      border-radius: 6px;
      padding: 0.5rem;
      max-height: 200px;
      overflow-y: auto;
      font-size: 0.9rem;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.5rem;
    }
    table th, table td {
      border: 1px solid #333;
      padding: 0.5rem;
      text-align: center;
    }
    table th {
      background: #0d2538;
    }
    .status-ok { color: #2ecc71; }
    .status-error { color: #e74c3c; }
  </style>
</head>
<body>
<header>
  <h1>⚡ Centrale Nucléaire Météo – Console Admin</h1>
  <p>
    IA Active : 🤖 Cohere (command-r-plus) <br>
    Zones couvertes : 🌍 Europe élargie + 🇺🇸 USA <br>
    Mode : <b>100% réel, zéro démo 🚀</b>
  </p>
</header>

<!-- Lancer un Run -->
<div class="section">
  <h2>🚀 Lancer un Run SuperForecast</h2>
  <label>Latitude: <input type="text" id="lat" value="50.5"></label>
  <label>Longitude: <input type="text" id="lon" value="4.7"></label><br>
  <button class="launch" onclick="launchRun()">🚀 Lancer</button>
  <button class="refresh" onclick="refreshIndex()">🔄 Rafraîchir Index</button>
</div>

<!-- Logs en temps réel -->
<div class="section">
  <h2>📜 Logs en temps réel</h2>
  <div class="logs" id="logs">En attente de données...</div>
</div>

<!-- Prévisions nationales -->
<div class="section">
  <h2>📌 Prévisions Nationales (édition rapide)</h2>
  <label>BE : <textarea id="forecastBE"></textarea></label>
  <label>FR : <textarea id="forecastFR"></textarea></label>
  <label>LUX : <textarea id="forecastLUX"></textarea></label>
  <button class="refresh" onclick="pushForecasts()">✅ Pousser vers Index</button>
</div>

<!-- Alertes météo -->
<div class="section">
  <h2>⚠️ Alertes Météo</h2>
  <table>
    <thead>
      <tr>
        <th>Zone</th>
        <th>Certitude</th>
        <th>Statut mondial</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="alertsTable">
      <tr>
        <td>Belgique</td>
        <td>> 90%</td>
        <td class="status-ok">✅ Premier détecteur</td>
        <td>
          <button class="validate">Valider</button>
          <button class="reject">Rejeter</button>
          <button class="expert">Envoyer expert</button>
          <button class="export">Exporter NASA</button>
        </td>
      </tr>
      <tr>
        <td>France</td>
        <td>80%</td>
        <td>⚠️ Déjà signalé ailleurs</td>
        <td>
          <button class="validate">Valider</button>
          <button class="reject">Rejeter</button>
        </td>
      </tr>
      <tr>
        <td>Luxembourg</td>
        <td>70%</td>
        <td class="status-error">❌ Doublon confirmé</td>
        <td>
          <button class="reject">Ignorer</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Chat avec J.E.A.N. -->
<div class="section">
  <h2>🤖 Chat avec J.E.A.N.</h2>
  <textarea id="chatInput" placeholder="Écrire à J.E.A.N. (expert IA météo nucléaire)..."></textarea>
  <button class="launch" onclick="sendChat()">Envoyer</button>
  <div class="chat-response" id="chatResponse">En attente d'une réponse...</div>
</div>

<!-- Outils supervision -->
<div class="section">
  <h2>🛠️ Outils de supervision</h2>
  <p>API : <span class="status-ok">EN LIGNE</span></p>
  <p>MongoDB : <span id="dbStats">34 prévisions, 0 alertes</span></p>
  <p>Uptime serveur : <span id="uptime">--</span></p>
</div>

<script>
  function launchRun() {
    const lat = document.getElementById("lat").value;
    const lon = document.getElementById("lon").value;
    document.getElementById("logs").innerText += `\n🚀 Lancement Run SuperForecast pour lat=${lat}, lon=${lon}`;
    // Appel backend à implémenter
  }
  function refreshIndex() {
    document.getElementById("logs").innerText += "\n🔄 Index rafraîchi";
    // API backend pour refresh
  }
  function pushForecasts() {
    document.getElementById("logs").innerText += "\n✅ Prévisions nationales poussées vers Index";
    // Appel backend save
  }
  function sendChat() {
    const msg = document.getElementById("chatInput").value;
    document.getElementById("chatResponse").innerText = "⏳ J.E.A.N. réfléchit...";
    setTimeout(() => {
      document.getElementById("chatResponse").innerText = "⚠️ Réponse IA simulée (brancher API Cohere)";
    }, 1000);
  }
</script>
</body>
</html>
